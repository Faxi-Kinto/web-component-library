import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';

import FormField from './';
import InputField from 'components/molecules/InputField/InputField.component';
import validators from 'store/FormProvider/validators';

<Meta title="Core|Molecules/FormField" />

# FormField Component

is a wrapper component for all sorts of inputs (including radio buttons, dropdowns, checkbox, etc.)

It should always be used inside of [FormComponent](/?path=/docs/core-organisms-form--default-story),
as it depends directly on the `FormContext` which is included in [FormComponent](/?path=/docs/core-organisms-form--default-story).

So in order to use the `FormField` you need to have any sort of input component that implements the
`FormField` API, you do that by merging specific component's props with `FieldProps`, which is described below.


## Main Interface

This is part of the `FormField` implementation, and it summarizes how we can interact with FormField.

```ts
/* here we list in all of the components that we are going to implement inside of FormField
 * in order to get props recommendations
 */

type InputLike = Partial<InputProps> | Partial<CheckboxProps> /*...*/;

export type FormFieldProps = {
  name: string;
  validate?: Function | Function[];
  component: ReactElement | React.FC<any>;
} & InputLike;
```

## Default

<Preview>
  <Story name="default">
    <FormField
      name="firstName"
      component={InputField}
      placeholder="First name"
      validate={validators.general.required('Please fill in this field')}
    />
  </Story>
</Preview>

## API Interface

Interfaces below are used in order to connect the specific Input components (e.g. `InputComponent`, `PasswordInput`, `Checkbox`)

```ts
export type FieldProps<T = any> = {
  value: T;
  dirty: boolean;
  touched: boolean;
  error: string;
  onChange: (value: T) => void;
}>;
```

```ts
/* Input.component.tsx
 * Example of merging props */

export type InputProps = FieldProps<string> & {
  placeholder?: string;
  error: boolean;
  onHandleCapslook?: (event: React.KeyboardEvent<HTMLInputElement>) => void;
};
```


## Props

<Props of={FormField} />
