import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { action } from '@storybook/addon-actions';
import { useState } from 'react';

import Modal from "./Modal.component.tsx";
import Button from "../../_atoms/Button/Button.component.tsx"

<Meta title="Core|Organisms/Modal" />

# Modal Component

This is an implementation of the Modal Component

## Implementation

#### Default

<Preview>
  <Story name="default">
    {() => {
      const [isShowing, setIsShowing] = useState(false)
      return (
      <div>
       <Button onClick={()=>{setIsShowing(!isShowing); action('modal-open') }}>Open Modal</Button>
       <Modal
        toggled={isShowing}  
        header={<span>Confirmation</span>}
        body={<div style={{height:"200px", width:"400px", overflow:"auto"}}>
                <span>"Your community has been successfully registered. A verification link has been sent to your email account. Please verify your email in order to access the created community.Your community has been successfully registered. A verification link has been sent to your email account. Please verify your email in order to access the created community.Your community has been successfully registered. A verification link has been sent to your email account. Please verify your email in order to access the created community.Your community has been successfully registered. A verification link has been sent to your email account. Please verify your email in order to access the created community.Your community has been successfully registered. A verification link has been sent to your email account. Please verify your email in order to access the created community.Your community has been successfully registered. A verification link has been sent to your email account. Please verify your email in order to access the created community.Your community has been successfully registered. A verification link has been sent to your email account. Please verify your email in order to access the created community."</span>   
             </div>}
        footer={<Button type="submit" onClick={()=>{isShowing===true ? setIsShowing(false) : null}}>Ok</Button>}
        onClickOutOfModal={()=>{setIsShowing(false)}}
        position="top"
        customKeyboardEvents={
          [
            {
              keyCodes: ['ShiftLeft', 'KeyA'],
              callbackFn: () => {
                setIsShowing(false);
              },
            },
            {
              keyCodes: ['Escape'],
              callbackFn: () => {
                setIsShowing(false);
              },
            },
          ]
        }
        />
    </div>)
    }}
  </Story>
</Preview>

# Props

<Props of={Modal} />

## Adding a new Modal
- The rendering of Modal component is resposibility of it's parent
- In parent component You must add state variable for that purpose and access to Modal via toggled prop